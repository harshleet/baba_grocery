(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{224:function(e,t,a){e.exports=a.p+"static/media/menu.b3f49afd.svg"},225:function(e,t,a){e.exports=a.p+"static/media/close.2c5552a1.svg"},226:function(e,t,a){e.exports=a.p+"static/media/cart.8bf1af37.svg"},229:function(e,t,a){e.exports=a.p+"static/media/check.e54e6aaf.svg"},231:function(e,t,a){e.exports=a.p+"static/media/about1.0a04dae3.svg"},232:function(e){e.exports=JSON.parse('{"Header":{"title":"Welcome to Our E-Commerce Store","paragraph":"Explore a wide range of products from top brands. Shop with confidence!"},"About":{"paragraph":"Discover the best online shopping experience with our e-commerce store. We bring you high-quality products at unbeatable prices. Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Why":["Wide Selection of Products","Secure Online Payments","Fast and Reliable Shipping","Dedicated Customer Support"],"Why2":["Quality Guaranteed","Easy Returns and Refunds","Exclusive Deals and Discounts","User-Friendly Website"]},"Services":[{"icon":"fa fa-shopping-basket justify-content-center","name":"Wide Variety","text":"Explore a wide variety of fresh fruits, vegetables, and grocery items for your daily needs."},{"icon":"fa fa-clock-o justify-content-center","name":"Fast Delivery","text":"Enjoy fast and reliable home delivery services, ensuring your orders reach you promptly."},{"icon":"fa fa-credit-card justify-content-center","name":"Secure Payments","text":"Make secure online payments, providing you with a hassle-free and safe shopping experience."},{"icon":"fa fa-refresh justify-content-center","name":"Fresh Guarantee","text":"Our commitment to freshness ensures that you receive the highest quality produce every time."}],"Testimonials":[{"img":"images/testimonials/anwesh.jpeg","text":"\\"Amazing shopping experience!\\"","name":"Anwedh K. Mohanty"},{"img":"images/testimonials/jkha.jpeg","text":"\\"I love the site.\\"","name":"Aayush Jha"},{"img":"images/testimonials/Abhinav.jpeg","text":"\\"Great service. Highly recommend!\\"","name":"Abhinav Agarwal"}],"Team":[{"img":"images/team/01.jpeg","name":"Eshanth Patyal"},{"img":"images/team/02.jpg","name":"Harsh Gupta"},{"img":"images/team/03.jpeg","name":"Yash R Khandelwal"},{"img":"images/team/04.jpeg","name":"Harsh Agarwal"},{"img":"images/team/05.jpeg","name":"Hardik Parakh"}]}')},234:function(e,t,a){e.exports=a(527)},239:function(e,t,a){},261:function(e,t,a){},292:function(e,t){},294:function(e,t){},304:function(e,t){},306:function(e,t){},331:function(e,t){},333:function(e,t){},334:function(e,t){},340:function(e,t){},342:function(e,t){},360:function(e,t){},362:function(e,t){},374:function(e,t){},377:function(e,t){},382:function(e,t){},384:function(e,t){},407:function(e,t){},526:function(e,t,a){},527:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(223),l=a.n(c),o=(a(239),a(7)),i=a(2),s=a.n(i),u=a(6),m=a(1),d=a(5),p=a.n(d);var b=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),l=Object(m.a)(c,2),o=l[0],i=l[1],d=Object(n.useState)(""),b=Object(m.a)(d,2),E=b[0],h=b[1],f=Object(n.useState)(""),v=Object(m.a)(f,2),g=v[0],y=v[1],j=Object(n.useState)(""),O=Object(m.a)(j,2),x=O[0],k=O[1],w=Object(n.useState)(1),N=Object(m.a)(w,2),A=N[0],_=N[1],C=Object(n.useState)(0),P=Object(m.a)(C,2),S=P[0],I=P[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/products?limit=".concat(9*A,"&").concat(E,"&").concat(g,"&title[regex]=").concat(x));case 2:t=e.sent,r(t.data.products),I(t.data.result);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o,E,g,x,A]),{products:[a,r],callback:[o,i],category:[E,h],sort:[g,y],search:[x,k],page:[A,_],result:[S,I]}},E=a(16),h=a(28);var f=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(m.a)(l,2),i=o[0],d=o[1],b=Object(n.useState)([]),f=Object(m.a)(b,2),v=f[0],g=f[1],y=Object(n.useState)([]),j=Object(m.a)(y,2),O=j[0],x=j[1],k=Object(n.useState)(!1),w=Object(m.a)(k,2),N=w[0],A=w[1];Object(n.useEffect)((function(){e&&function(){var t=Object(u.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,A(!0),t.next=4,p.a.get("/user/infor",{headers:{Authorization:e}});case 4:a=t.sent,c(!0),1===a.data.role?d(!0):d(!1),g(a.data.cart),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0.response.data.msg);case 13:return t.prev=13,A(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(){return t.apply(this,arguments)}}()()}),[e]);var _=function(){var t=Object(u.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",alert("Please login to continue buying"));case 2:if(!v.every((function(e){return e._id!==a._id}))){t.next=9;break}return g([].concat(Object(h.a)(v),[Object(E.a)(Object(E.a)({},a),{},{quantity:1})])),t.next=7,p.a.patch("/user/addcart",{cart:[].concat(Object(h.a)(v),[Object(E.a)(Object(E.a)({},a),{},{quantity:1})])},{headers:{Authorization:e}});case 7:t.next=10;break;case 9:alert("This product has been added to cart.");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{isLogged:[r,c],isAdmin:[i,d],cart:[v,g],addCart:_,history:[O,x],loading:[N,A]}};var v=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),l=Object(m.a)(c,2),o=l[0],i=l[1],d=Object(n.useState)(!1),b=Object(m.a)(d,2),E=b[0],h=b[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,p.a.get("/api/category");case 4:t=e.sent,r(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching categories:",e.t0);case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}})()()}),[E]),{categories:[a,r],loading:[o,i],callback:[E,h]}},g=Object(n.createContext)(),y=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(m.a)(a,2),l=c[0],o=c[1];Object(n.useEffect)((function(){if(localStorage.getItem("firstLogin")){var e=function(){var t=Object(u.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("/user/refresh_token");case 2:a=t.sent,o(a.data.accesstoken),setTimeout((function(){e()}),6e5);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e()}}),[]);var i={token:[l,o],productsAPI:b(),userAPI:f(l),categoriesAPI:v()};return r.a.createElement(g.Provider,{value:i},t)},j=a(224),O=a.n(j),x=a(225),k=a.n(x),w=a(226),N=a.n(w);var A=function(){var e=Object(n.useContext)(g),t=Object(m.a)(e.userAPI.isLogged,1)[0],a=Object(m.a)(e.userAPI.isAdmin,1)[0],c=Object(m.a)(e.userAPI.cart,1)[0],l=Object(n.useState)(!1),i=Object(m.a)(l,2),d=i[0],b=i[1],E=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/user/logout");case 2:localStorage.removeItem("firstLogin"),window.location.href="/";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h={left:d?0:"-100%"};return r.a.createElement("header",null,r.a.createElement("div",{className:"menu",onClick:function(){return b(!d)}},r.a.createElement("img",{src:O.a,alt:"",width:"30"})),r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,r.a.createElement(o.b,{to:"/"},a?"Admin View":"Baba Groceries"))),r.a.createElement("ul",{style:h},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/products"},a?"Products":"Shop")),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/create_product"},"Add Product")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/category"},"Categories")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/curOrders"},"Current Orders"))),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/history"},"History")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/",onClick:E},"Logout")))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login"},"Login ")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/register"},"Register "))),r.a.createElement("li",{onClick:function(){return b(!d)}},r.a.createElement("img",{src:k.a,alt:"",width:"30",className:"menu"}))),a?"":r.a.createElement("div",{className:"cart-icon"},r.a.createElement("span",null,c.length),r.a.createElement(o.b,{to:"/cart"},r.a.createElement("img",{src:N.a,alt:"",width:"30"}))))},_=a(15),C=a(74);var P=function(e){var t=e.product,a=e.deleteProduct,c=Object(n.useContext)(g),l=Object(m.a)(c.userAPI.isAdmin,1)[0],i=c.userAPI.addCart;return r.a.createElement("div",{className:"row_btn"},l?r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{id:"btn_buy",to:"#!",onClick:function(){return a(t._id,t.images.public_id)}},"Delete ",r.a.createElement(C.d,null)," "),r.a.createElement(o.b,{id:"btn_view",to:"/edit_product/".concat(t._id)},"Edit ",r.a.createElement(C.a,null)," ")):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{id:"btn_buy",to:"#!",onClick:function(){return i(t)}},"Buy ",r.a.createElement(C.c,null)," "),r.a.createElement(o.b,{id:"btn_view",to:"/detail/".concat(t._id)},"View ",r.a.createElement(C.b,null)," ")))};var S=function(e){var t=e.product,a=e.isAdmin,n=e.deleteProduct,c=e.handleCheck;return r.a.createElement("div",{className:"product_card"},a&&r.a.createElement("input",{type:"checkbox",checked:t.checked,onChange:function(){return c(t._id)}}),r.a.createElement("img",{src:t.images.url,alt:""}),r.a.createElement("div",{className:"product_box"},r.a.createElement("h2",{title:t.title},t.title),r.a.createElement("h4",null,"\u20b9",t.price),r.a.createElement("p",null,t.description)),r.a.createElement(P,{product:t,deleteProduct:n}))};a(261);var I=function(){return r.a.createElement("div",{class:"center"},r.a.createElement("div",{class:"wave"}),r.a.createElement("div",{class:"wave"}),r.a.createElement("div",{class:"wave"}),r.a.createElement("div",{class:"wave"}),r.a.createElement("div",{class:"wave"}),r.a.createElement("div",{class:"wave"}),r.a.createElement("div",{class:"wave"}),r.a.createElement("div",{class:"wave"}),r.a.createElement("div",{class:"wave"}),r.a.createElement("div",{class:"wave"}))};var D=function(){var e=Object(n.useContext)(g),t=Object(m.a)(e.categoriesAPI.categories,1)[0],a=Object(m.a)(e.productsAPI.category,2),c=a[0],l=a[1],o=Object(m.a)(e.productsAPI.sort,2),i=(o[0],o[1],Object(m.a)(e.productsAPI.search,2)),s=(i[0],i[1]);return r.a.createElement("div",{className:"filter_menu"},r.a.createElement("div",{className:"row"},r.a.createElement("span",null,"Filters: "),r.a.createElement("select",{name:"category",value:c,onChange:function(e){l(e.target.value),s("")}},r.a.createElement("option",{value:""},"All Products"),t.map((function(e){return r.a.createElement("option",{value:"category="+e._id,key:e._id},e.name)})))))};var q=function(){var e=Object(n.useContext)(g),t=Object(m.a)(e.productsAPI.page,2),a=t[0],c=t[1],l=Object(m.a)(e.productsAPI.result,1)[0];return r.a.createElement("div",{className:"load_more"},l<9*a?"":r.a.createElement("button",{onClick:function(){return c(a+1)}},"Load more"))};var F=function(){var e=Object(n.useContext)(g),t=Object(m.a)(e.productsAPI.products,2),a=t[0],c=t[1],l=Object(m.a)(e.userAPI.isAdmin,1)[0],o=Object(m.a)(e.token,1)[0],i=Object(m.a)(e.productsAPI.callback,2),d=i[0],b=i[1],E=Object(n.useState)(!1),f=Object(m.a)(E,2),v=f[0],y=f[1],j=Object(n.useState)(!1),O=Object(m.a)(j,2),x=O[0],k=O[1],w=function(e){a.forEach((function(t){t._id===e&&(t.checked=!t.checked)})),c(Object(h.a)(a))},N=function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),n=p.a.post("/api/destroy",{public_id:a},{headers:{Authorization:o}}),r=p.a.delete("/api/products/".concat(t),{headers:{Authorization:o}}),e.next=6,n;case 6:return e.next=8,r;case 8:b(!d),y(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0.response.data.msg);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}();return v?r.a.createElement("div",null,r.a.createElement(I,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),l&&r.a.createElement("div",{className:"delete-all"},r.a.createElement("span",null,"Select all"),r.a.createElement("input",{type:"checkbox",checked:x,onChange:function(){a.forEach((function(e){e.checked=!x})),c(Object(h.a)(a)),k(!x)}}),r.a.createElement("button",{onClick:function(){a.forEach((function(e){e.checked&&N(e._id,e.images.public_id)}))}},"Delete ALL")),r.a.createElement("div",{className:"products"},a.map((function(e){return r.a.createElement(S,{key:e._id,product:e,isAdmin:l,deleteProduct:N,handleCheck:w})}))),r.a.createElement(q,null),0===a.length&&r.a.createElement(I,null))};var z=function(){var e=Object(_.g)(),t=Object(n.useContext)(g),a=Object(m.a)(t.productsAPI.products,1)[0],c=t.userAPI.addCart,l=Object(n.useState)([]),i=Object(m.a)(l,2),s=i[0],u=i[1];return Object(n.useEffect)((function(){e.id&&a.forEach((function(t){t._id===e.id&&u(t)}))}),[e.id,a]),0===s.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"detail"},r.a.createElement("img",{src:s.images.url,alt:""}),r.a.createElement("div",{className:"box-detail"},r.a.createElement("div",{className:"row"},r.a.createElement("h2",null,s.title),r.a.createElement("h6",null,"#id: ",s.product_id)),r.a.createElement("span",null," \u20b9 ",s.price),r.a.createElement("div",{className:"section-heading"},r.a.createElement("h3",null,"Description"),r.a.createElement("p",null,s.description)),r.a.createElement("div",{className:"section-heading"},r.a.createElement("h3",null,"Product Content"),r.a.createElement("p",null,s.content)),r.a.createElement("p",null,"Ordered: ",s.sold),r.a.createElement(o.b,{to:"/cart",className:"cart",onClick:function(){return c(s)}},"Buy Now"))),r.a.createElement("div",null,r.a.createElement("h2",null,"Related products"),r.a.createElement("div",{className:"products"},a.map((function(e){return e.category===s.category?r.a.createElement(S,{key:e._id,product:e}):null})))))},L=a(44);var T=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(m.a)(e,2),a=t[0],c=t[1],l=function(e){var t=e.target,n=t.name,r=t.value;c(Object(E.a)(Object(E.a)({},a),{},Object(L.a)({},n,r)))},i=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p.a.post("/user/login",Object(E.a)({},a));case 4:localStorage.setItem("firstLogin",!0),window.location.href="/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:i},r.a.createElement("h2",null,"Login"),r.a.createElement("input",{type:"email",name:"email",required:!0,placeholder:"Email",value:a.email,onChange:l}),r.a.createElement("input",{type:"password",name:"password",required:!0,autoComplete:"on",placeholder:"Password",value:a.password,onChange:l}),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"submit"},"Login"),r.a.createElement(o.b,{to:"/register"},"Register")))),r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:"https://cdn01.buxtonco.com/news/1903/marketing-to-attract-grocery-stores__large.jpg",alt:"Login Image"})))};var R=function(){var e=Object(n.useState)({name:"",email:"",password:"",address:""}),t=Object(m.a)(e,2),a=t[0],c=t[1],l=function(e){var t=e.target,n=t.name,r=t.value;c(Object(E.a)(Object(E.a)({},a),{},Object(L.a)({},n,r)))},i=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p.a.post("/user/register",Object(E.a)({},a));case 4:localStorage.setItem("firstLogin",!0),window.location.href="/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login-page"},r.a.createElement("form",{onSubmit:i},r.a.createElement("h2",null,"Register"),r.a.createElement("input",{type:"text",name:"name",required:!0,placeholder:"Name",value:a.name,onChange:l}),r.a.createElement("input",{type:"email",name:"email",required:!0,placeholder:"Email",value:a.email,onChange:l}),r.a.createElement("input",{type:"password",name:"password",required:!0,autoComplete:"on",placeholder:"Password",value:a.password,onChange:l}),r.a.createElement("input",{type:"text",name:"address",required:!0,placeholder:"Address",value:a.address,onChange:l}),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"submit"},"Register"),r.a.createElement(o.b,{to:"/login"},"Login"))))};var H=function(){var e=Object(n.useContext)(g),t=Object(m.a)(e.userAPI.history,2),a=t[0],c=t[1],l=Object(m.a)(e.userAPI.isAdmin,1)[0],i=Object(m.a)(e.token,1)[0],d=Object(n.useState)({}),b=Object(m.a)(d,2),E=b[0],h=b[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i){e.next=8;break}return a=l?"/api/payment":"/user/history",e.next=5,p.a.get(a,{headers:{Authorization:i}});case 5:n=e.sent,c(n.data),t(n.data);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching order history:",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),t=function(e){var t={};e.forEach((function(e){var a=new Date(e.createdAt).toLocaleDateString();t[a]?t[a]+=e.cart.reduce((function(e,t){return e+t.price*t.quantity}),0):t[a]=e.cart.reduce((function(e,t){return e+t.price*t.quantity}),0)})),h(t)};e()}),[i,l,c]),r.a.createElement("div",{className:"history-page"},r.a.createElement("h2",null,"Order History"),r.a.createElement("h4",null,l?"You have completed ".concat(a.length," orders"):"You have ordered ".concat(a.length," items")),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Payment ID"),r.a.createElement("th",null,"Date of Purchase"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.paymentID),r.a.createElement("td",null,new Date(e.createdAt).toLocaleDateString()),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/history/".concat(e._id)},"View")))})))),l&&r.a.createElement("div",{className:"earnings-table"},r.a.createElement("h3",null,"Daywise Earnings"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Earnings"))),r.a.createElement("tbody",null,Object.entries(E).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return r.a.createElement("tr",{key:a},r.a.createElement("td",null,a),r.a.createElement("td",null,n))}))))))};var W=function(){var e=Object(n.useContext)(g),t=Object(m.a)(e.userAPI.history,1)[0],a=Object(n.useState)([]),c=Object(m.a)(a,2),l=c[0],o=c[1],i=Object(_.g)();return Object(n.useEffect)((function(){i.id&&t.forEach((function(e){e._id===i.id&&o(e)}))}),[i.id,t]),0===l.length?null:r.a.createElement("div",{className:"history-page"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"User ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Delivery Location"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,l.user_id),r.a.createElement("td",null,l.name),r.a.createElement("td",null,l.email),r.a.createElement("td",null,l.address)))),r.a.createElement("table",{style:{margin:"30px 0px"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Products"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Price"))),r.a.createElement("tbody",null,l.cart.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,r.a.createElement("img",{src:e.images.url,alt:""})),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,"\u20b9 ",e.price*e.quantity))})))))},Y=a(228),U=a(229),G=a.n(U);var V=function(){var e=Object(n.useContext)(g),t=Object(m.a)(e.userAPI.history,2),a=t[0],c=t[1],l=Object(m.a)(e.userAPI.isAdmin,1)[0],i=Object(m.a)(e.token,1)[0];Object(n.useEffect)((function(){i&&function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=5;break}return e.next=3,p.a.get("/api/payment",{headers:{Authorization:i}});case 3:t=e.sent,c(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i,l,c]);var d=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r,l,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=Object(h.a)(a),r=Object(Y.a)(n),e.prev=3,r.s();case 5:if((l=r.n()).done){e.next=15;break}if((o=l.value)._id!==t){e.next=13;break}return e.next=10,p.a.put("/api/updateOrder",{_id:t},{headers:{Authorization:i}});case 10:return"Completed the order"===e.sent.data.msg?(o.status=!0,c(n),alert("The order is completed successfully!")):alert("Failed to update order status"),e.abrupt("break",15);case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(0),console.log(e.t1.msg);case 28:case"end":return e.stop()}}),e,null,[[0,25],[3,17,20,23]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"history-page"},r.a.createElement("h2",null,"CURRENT ORDERS"),r.a.createElement("h4",null,"You have ",a.filter((function(e){return!e.status})).length," pending orders"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Payment ID"),r.a.createElement("th",null,"Date of Purchased"),r.a.createElement("th",null,"View order"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map((function(e){return!1===e.status&&r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.paymentID),r.a.createElement("td",null,new Date(e.createdAt).toLocaleDateString()),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/history/".concat(e._id)},"View")),r.a.createElement("td",{onClick:function(){d(e._id)}},r.a.createElement("img",{src:G.a,alt:"check",width:"30"})))})))))},B=(a(262),a(230)),M=a.n(B);var J=function(){var e=M()(),t=Object(n.useContext)(g),a=Object(m.a)(t.userAPI.cart,2),c=a[0],l=a[1],o=Object(m.a)(t.token,1)[0],i=Object(n.useState)(0),d=Object(m.a)(i,2),b=d[0],E=d[1];Object(n.useEffect)((function(){!function(){var e=c.reduce((function(e,t){return e+t.price*t.quantity}),0);E(e)}()}),[c]);var f=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.patch("/user/addcart",{cart:t},{headers:{Authorization:o}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(t){var a={key_id:"rzp_test_RFa5lENXkSlzru",amount:t.amount,currency:t.currency,description:"Test Transaction",order_id:t.id,name:"Harsh Gupta",handler:function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,p.a.post("/api/verify",{response:t});case 4:return a=e.sent,n=a.data,r=t.razorpay_payment_id,e.next=9,p.a.post("/api/payment",{cart:c,paymentID:r},{headers:{Authorization:o}});case 9:l([]),f([]),alert("You can view your order in order in History"),console.log(n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),theme:{color:"#3399cc"},prefill:{name:"Harshil Mathur",email:"harshil@razorpay.com"},notes:{"Phone Number":"01554414"},modal:{ondismiss:function(){console.log("Popup closed")},options:{width:"800px",height:"600px"}}},n=new e(a);console.log(n),n.open()},y=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/api/orders",{amount:b},{headers:{Authorization:o}});case 3:t=e.sent,a=t.data,console.log(a),v(a.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return 0===c.length?r.a.createElement("h2",{style:{textAlign:"center",fontSize:"5rem"}},"Cart Empty"):r.a.createElement("div",null,c.map((function(e){return r.a.createElement("div",{className:"detail cart",key:e._id},r.a.createElement("img",{src:e.images.url,alt:""}),r.a.createElement("div",{className:"box-detail"},r.a.createElement("h2",null,e.title),r.a.createElement("h3",null,"\u20b9 ",e.price*e.quantity),r.a.createElement("p",null,e.description),r.a.createElement("p",null,e.content),r.a.createElement("div",{className:"amount"},r.a.createElement("button",{onClick:function(){return t=e._id,c.forEach((function(e){e._id===t&&(1===e.quantity?e.quantity=1:e.quantity-=1)})),l(Object(h.a)(c)),void f(c);var t}}," - "),r.a.createElement("span",null,e.quantity),r.a.createElement("button",{onClick:function(){return t=e._id,c.forEach((function(e){e._id===t&&(e.quantity+=1)})),l(Object(h.a)(c)),void f(c);var t}}," + ")),r.a.createElement("div",{className:"delete",onClick:function(){return t=e._id,void(window.confirm("Do you want to delete this product?")&&(c.forEach((function(e,a){e._id===t&&c.splice(a,1)})),l(Object(h.a)(c)),f(c)));var t}},"X")))})),r.a.createElement("div",{className:"total"},r.a.createElement("h3",null,"Total: \u20b9 ",b),r.a.createElement("button",{onClick:function(){return y()},className:"payment"},"Buy Now")))};var X=function(){return r.a.createElement("div",null,"404 | Not Found")};var K=function(){var e=Object(n.useContext)(g),t=Object(m.a)(e.categoriesAPI.categories,1)[0],a=Object(n.useState)(""),c=Object(m.a)(a,2),l=c[0],o=c[1],i=Object(m.a)(e.token,1)[0],d=Object(m.a)(e.categoriesAPI.callback,2),b=d[0],E=d[1],h=Object(n.useState)(!1),f=Object(m.a)(h,2),v=f[0],y=f[1],j=Object(n.useState)(""),O=Object(m.a)(j,2),x=O[0],k=O[1],w=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!v){e.next=9;break}return e.next=5,p.a.put("/api/category/".concat(x),{name:l},{headers:{Authorization:i}});case 5:a=e.sent,alert(a.data.msg),e.next=13;break;case 9:return e.next=11,p.a.post("/api/category",{name:l},{headers:{Authorization:i}});case 11:n=e.sent,alert(n.data.msg);case 13:y(!1),o(""),E(!b),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(t),o(a),y(!0);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.delete("/api/category/".concat(t),{headers:{Authorization:i}});case 3:a=e.sent,alert(a.data.msg),E(!b),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"categories"},r.a.createElement("form",{onSubmit:w},r.a.createElement("label",{htmlFor:"category"},"Category"),r.a.createElement("input",{placeholder:"Enter category name",type:"text",name:"category",value:l,required:!0,onChange:function(e){return o(e.target.value)}}),r.a.createElement("button",{type:"submit",style:{marginTop:"10px",backgroundColor:"green",marginLeft:"70px"}},v?"Update":"Create")),r.a.createElement("div",{className:"col"},t.map((function(e){return r.a.createElement("div",{className:"row",key:e._id},r.a.createElement("p",null,e.name),r.a.createElement("div",null,r.a.createElement("button",{style:{backgroundColor:"green"},onClick:function(){return N(e._id,e.name)}},"Edit"),r.a.createElement("button",{style:{backgroundColor:"maroon"},onClick:function(){return A(e._id)}},"Delete")))}))))},Q={product_id:"",title:"",price:0,description:"",content:"",category:"",_id:""};var Z=function(){var e=Object(n.useContext)(g),t=Object(n.useState)(Q),a=Object(m.a)(t,2),c=a[0],l=a[1],o=Object(m.a)(e.categoriesAPI.categories,1)[0],i=Object(n.useState)(!1),d=Object(m.a)(i,2),b=d[0],h=d[1],f=Object(n.useState)(!1),v=Object(m.a)(f,2),y=v[0],j=v[1],O=Object(m.a)(e.userAPI.isAdmin,1)[0],x=Object(m.a)(e.token,1)[0],k=Object(_.f)(),w=Object(_.g)(),N=Object(m.a)(e.productsAPI.products,1)[0],A=Object(n.useState)(!1),C=Object(m.a)(A,2),P=C[0],S=C[1],D=Object(m.a)(e.productsAPI.callback,2),q=D[0],F=D[1];Object(n.useEffect)((function(){w.id?(S(!0),N.forEach((function(e){e._id===w.id&&(l(e),h(e.images))}))):(S(!1),l(Q),h(!1))}),[w.id,N]);var z=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,O){e.next=4;break}return e.abrupt("return",alert("You're not an admin"));case 4:if(a=t.target.files[0]){e.next=7;break}return e.abrupt("return",alert("File not exist."));case 7:if(!(a.size>1048576)){e.next=9;break}return e.abrupt("return",alert("Size too large!"));case 9:if("image/jpeg"===a.type||"image/png"===a.type){e.next=11;break}return e.abrupt("return",alert("File format is incorrect."));case 11:return(n=new FormData).append("file",a),j(!0),e.next=16,p.a.post("/api/upload",n,{headers:{"content-type":"multipart/form-data",Authorization:x}});case 16:r=e.sent,j(!1),h(r.data),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O){e.next=3;break}return e.abrupt("return",alert("You're not an admin"));case 3:return j(!0),e.next=6,p.a.post("/api/destroy",{public_id:b.public_id},{headers:{Authorization:x}});case 6:j(!1),h(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),R=function(e){var t=e.target,a=t.name,n=t.value;l(Object(E.a)(Object(E.a)({},c),{},Object(L.a)({},a,n)))},H=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,O){e.next=4;break}return e.abrupt("return",alert("You're not an admin"));case 4:if(b){e.next=6;break}return e.abrupt("return",alert("No Image Upload"));case 6:if(!P){e.next=11;break}return e.next=9,p.a.put("/api/products/".concat(c._id),Object(E.a)(Object(E.a)({},c),{},{images:b}),{headers:{Authorization:x}});case 9:e.next=13;break;case 11:return e.next=13,p.a.post("/api/products",Object(E.a)(Object(E.a)({},c),{},{images:b}),{headers:{Authorization:x}});case 13:F(!q),k.push("/"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),W={display:b?"block":"none"};return r.a.createElement("div",{className:"create_product"},r.a.createElement("div",{className:"upload"},r.a.createElement("input",{type:"file",name:"file",id:"file_up",onChange:z}),y?r.a.createElement("div",{id:"file_img"},r.a.createElement(I,null)):r.a.createElement("div",{id:"file_img",style:W},r.a.createElement("img",{src:b?b.url:"",alt:""}),r.a.createElement("span",{onClick:T},"X"))),r.a.createElement("form",{onSubmit:H},r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"product_id"},"PRODUCT ID"),r.a.createElement("input",{type:"text",name:"product_id",id:"product_id",required:!0,value:c.product_id,onChange:R,disabled:P})),r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"title"},"TITLE"),r.a.createElement("input",{type:"text",name:"title",id:"title",required:!0,value:c.title,onChange:R})),r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"price"},"PRICE"),r.a.createElement("input",{type:"number",name:"price",id:"price",required:!0,value:c.price,onChange:R})),r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"description"},"DESCRIPTION"),r.a.createElement("textarea",{placeholder:"Enter description of the item.",type:"text",name:"description",id:"description",required:!0,value:c.description,rows:"5",onChange:R})),r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"content"},"CONTENT"),r.a.createElement("textarea",{placeholder:"Enter the basic ingredients of your product.",type:"text",name:"content",id:"content",required:!0,value:c.content,rows:"7",onChange:R})),r.a.createElement("div",{className:"row"},r.a.createElement("label",{htmlFor:"categories"},"CATEGORY: "),r.a.createElement("select",{name:"category",value:c.category,onChange:R},r.a.createElement("option",{value:""},"Please select a category"),o.map((function(e){return r.a.createElement("option",{value:e._id,key:e._id},e.name)})))),r.a.createElement("button",{type:"submit"},P?"Update":"Create")))},$=(a(71),function(e){return r.a.createElement("header",{id:"header"},r.a.createElement("div",{className:"intro"},r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 col-md-offset-2 intro-text"},r.a.createElement("h1",null,e.data?e.data.title:"Loading",r.a.createElement("span",null)),r.a.createElement("p",null,e.data?e.data.paragraph:"Loading"),r.a.createElement("a",{href:"http://localhost:3000/products",className:"btn btn-custom btn-lg page-scroll"},"Explore More")," "))))))}),ee=a(231),te=a.n(ee),ae=function(e){return r.a.createElement("div",{id:"about"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-md-6"},r.a.createElement("img",{src:te.a,className:"img-responsive",alt:""})),r.a.createElement("div",{className:"col-xs-12 col-md-6"},r.a.createElement("div",{className:"about-text"},r.a.createElement("h2",null,"About Us"),r.a.createElement("p",null,e.data?e.data.paragraph:"loading..."),r.a.createElement("h3",null,"Why Choose Us?"),r.a.createElement("div",{className:"list-style"},r.a.createElement("div",{className:"col-lg-6 col-sm-6 col-xs-12"},r.a.createElement("ul",null,e.data?e.data.Why.map((function(e,t){return r.a.createElement("li",{key:"".concat(e,"-").concat(t)},e)})):"loading")),r.a.createElement("div",{className:"col-lg-6 col-sm-6 col-xs-12"},r.a.createElement("ul",null,e.data?e.data.Why2.map((function(e,t){return r.a.createElement("li",{key:"".concat(e,"-").concat(t)}," ",e)})):"loading"))))))))},ne=function(e){return r.a.createElement("div",{id:"services"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"section-title text-center"},r.a.createElement("h2",null,"Our Services"),r.a.createElement("p",null,"Your favourite store provides the best services:")),r.a.createElement("div",{className:"row justify-content-center"},e.data?e.data.map((function(e,t){return r.a.createElement("div",{key:"".concat(e.name,"-").concat(t),className:"col-md-4"},r.a.createElement("div",{className:"service-icon text-center"},r.a.createElement("i",{className:"fa ".concat(e.icon)})),r.a.createElement("div",{className:"service-desc"},r.a.createElement("h3",null,e.name),r.a.createElement("p",null,e.text)))})):"loading")))},re=function(e){return r.a.createElement("div",{id:"testimonials"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"section-title text-center"},r.a.createElement("h2",null,"What our clients say")),r.a.createElement("div",{className:"row"},e.data?e.data.map((function(e,t){return r.a.createElement("div",{key:"".concat(e.name,"-").concat(t),className:"col-md-4"},r.a.createElement("div",{className:"testimonial"},r.a.createElement("div",{className:"testimonial-image"}," ",r.a.createElement("img",{src:e.img,alt:""})),r.a.createElement("div",{className:"testimonial-content"},r.a.createElement("p",null,'"',e.text,'"'),r.a.createElement("div",{className:"testimonial-meta"}," - ",e.name," "))))})):"loading")))},ce=function(e){return r.a.createElement("div",{id:"team",className:"text-center"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"section-title"},r.a.createElement("h2",null,"Meet the Team"),r.a.createElement("p",null,"Our Hardworking team, motivated by the need to provide user-friendly and modern solutions everywhere. ")),r.a.createElement("div",{className:"team-members"},e.data?e.data.map((function(e,t){return r.a.createElement("div",{key:"".concat(e.name,"-").concat(t),className:"team-member"},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{src:e.img,alt:e.name,className:"team-img"}),r.a.createElement("div",{className:"caption text-center"},r.a.createElement("h4",null,e.name),r.a.createElement("p",null,e.job))))})):"loading")))},le=a(232),oe=a(233),ie=a.n(oe),se=(a(526),new ie.a('a[href*="#"]',{speed:1e3,speedAsDuration:!0}),function(){var e=Object(n.useState)({}),t=Object(m.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){c(le)}),[]),r.a.createElement("div",null,r.a.createElement($,{data:a.Header}),r.a.createElement(ae,{data:a.About}),r.a.createElement(ne,{data:a.Services}),r.a.createElement(re,{data:a.Testimonials}),r.a.createElement(ce,{data:a.Team}))});var ue=function(){var e=Object(n.useContext)(g),t=Object(m.a)(e.userAPI.isLogged,1)[0],a=Object(m.a)(e.userAPI.isAdmin,1)[0];return r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/",exact:!0,component:se}),r.a.createElement(_.a,{path:"/products",exact:!0,component:F}),r.a.createElement(_.a,{path:"/detail/:id",exact:!0,component:z}),r.a.createElement(_.a,{path:"/login",exact:!0,component:t?X:T}),r.a.createElement(_.a,{path:"/register",exact:!0,component:t?X:R}),r.a.createElement(_.a,{path:"/category",exact:!0,component:a?K:X}),r.a.createElement(_.a,{path:"/create_product",exact:!0,component:a?Z:X}),r.a.createElement(_.a,{path:"/curOrders",exact:!0,component:a?V:X}),r.a.createElement(_.a,{path:"/edit_product/:id",exact:!0,component:a?Z:X}),r.a.createElement(_.a,{path:"/history",exact:!0,component:t?H:X}),r.a.createElement(_.a,{path:"/history/:id",exact:!0,component:t?W:X}),r.a.createElement(_.a,{path:"/cart",exact:!0,component:J}),r.a.createElement(_.a,{path:"*",exact:!0,component:X}))};var me=function(){return r.a.createElement(y,null,r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(A,null),r.a.createElement(ue,null))))};l.a.render(r.a.createElement(me,null),document.getElementById("root"))},71:function(e,t,a){}},[[234,1,2]]]);
//# sourceMappingURL=main.e04dac14.chunk.js.map